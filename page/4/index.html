<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Vinda's Blog - 记录工作，记录生活</title><meta name="author" content="Vinda"><meta name="copyright" content="Vinda"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="开到荼蘼">
<meta property="og:type" content="website">
<meta property="og:title" content="Vinda&#39;s Blog">
<meta property="og:url" content="https://svinda.github.io/page/4/index.html">
<meta property="og:site_name" content="Vinda&#39;s Blog">
<meta property="og:description" content="开到荼蘼">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://svinda.github.io/img/avatar.jpg">
<meta property="article:author" content="Vinda">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://svinda.github.io/img/avatar.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://svinda.github.io/page/4/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?7c5117dc3f15bc5a9f3d98c41f2a8335";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Vinda\'s Blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-08-29 22:38:17'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">54</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">23</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Vinda's Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/04/06/OpenSourceProjects/QtCreator/QtCreator%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-4-main()%E5%87%BD%E6%95%B0%E5%88%86%E6%9E%90/" title="Qt Creator 源码分析-4-main() 函数分析">Qt Creator 源码分析-4-main() 函数分析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-06T06:37:37.000Z" title="发表于 2022-04-06 14:37:37">2022-04-06</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-28T03:26:52.447Z" title="更新于 2022-08-28 11:26:52">2022-08-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Qt-Creator-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">Qt Creator 源码分析</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Qt/">Qt</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">源码分析</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/QtCreator/">QtCreator</a></span></div><div class="content">0.程序 main() 函数执行流程图

1.Restarter restarter(argc, argv)
123456int main(int argc, char **argv)&#123;    Restarter restarter(argc, argv);    ......    return restarter.restartOrExit(app.exec());&#125;
程序重启器，用于某些配置修改后，需要重启程序才能够使配置生效。
12345678910111213141516171819202122232425262728293031323334class Restarter&#123;public:    Restarter(int argc, char *argv[])    &#123;        Q_UNUSED(argc)        m_executable = QString::fromLocal8Bit(argv[0]);        m_workingPath = QDir::currentPath();    &#125;    v ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/04/06/OpenSourceProjects/QtCreator/QtCreator%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-3-%E7%A8%8B%E5%BA%8F%E5%85%A5%E5%8F%A3/" title="Qt Creator 源码分析-3-程序入口">Qt Creator 源码分析-3-程序入口</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-06T02:16:13.000Z" title="发表于 2022-04-06 10:16:13">2022-04-06</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-28T03:26:52.447Z" title="更新于 2022-08-28 11:26:52">2022-08-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Qt-Creator-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">Qt Creator 源码分析</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Qt/">Qt</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">源码分析</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/QtCreator/">QtCreator</a></span></div><div class="content">分析程序入口
在键盘上按下 F10 键，Qt Creator 便会启动调试并且自动定位到 main() 函数处，在不知道程序入口的情况下，这种方法是最好用的。
如果是知道程序入口，那么可以在入口处打上断点，然后启动调试，也会定位到断点处。
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/04/05/OpenSourceProjects/QtCreator/QtCreator%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-2-%E7%9B%AE%E5%BD%95%E5%88%86%E6%9E%90/" title="Qt Creator 源码分析-2-目录分析">Qt Creator 源码分析-2-目录分析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-05T09:25:59.000Z" title="发表于 2022-04-05 17:25:59">2022-04-05</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-28T03:26:52.447Z" title="更新于 2022-08-28 11:26:52">2022-08-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Qt-Creator-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">Qt Creator 源码分析</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Qt/">Qt</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">源码分析</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/QtCreator/">QtCreator</a></span></div><div class="content">目录树
qt-creator-opensource-src-7.0.0 目录树
1234567891011qt-creator-opensource-src-7.0.0:├─bin├─cmake├─coin├─dist├─doc├─qbs├─scripts├─share├─src└─test

目录说明



目录
说明




bin
生成Linux平台shell脚本。


cmake
cmake扩展文件


coin
用于Qt Creator 持续集成部署的一些yaml脚本


dist
安装文件配置信息和版本更新记录。


doc
生成doxygen文档的配置文件。


qbs
.qbs配置文件。qbs(Qt Build Suite)是一种跨平台的编译工具。


scripts
QtCreator使用的perl以及python等脚本。


share
源代码中所需要的一些非代码共享文件，例如代码模板等。


src
QtCreator源代码文件。


test
QtCreator测试代码。



代码文件分析
使用 cloc 对 qt-creator-opensource-src ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/04/05/OpenSourceProjects/QtCreator/QtCreator%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-1-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="Qt Creator 源码分析-1-环境配置">Qt Creator 源码分析-1-环境配置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-05T07:58:21.000Z" title="发表于 2022-04-05 15:58:21">2022-04-05</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-28T03:16:42.287Z" title="更新于 2022-08-28 11:16:42">2022-08-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Qt-Creator-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">Qt Creator 源码分析</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Qt/">Qt</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">源码分析</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/QtCreator/">QtCreator</a></span></div><div class="content">Qt Creator 简介
Qt Creator 在 GitHub 上的仓库：https://github.com/qt-creator/qt-creator
目前需要关注的地方如下原文：
123456789101112131415161718192021222324252627282930313233343536Qt CreatorQt Creator is a cross-platform, integrated development environment (IDE)for application developers to create applications for multiple desktop, embedded,and mobile device platforms.The Qt Creator Manual is available at:https://doc.qt.io/qtcreator/index.htmlFor an overview of the Qt Creator IDE, see:https://doc.qt.io/qtcreator/crea ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/04/05/OpenSourceProjects/QtCreator/QtCreator%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-0-%E5%BA%8F/" title="Qt Creator 源码分析-0-序">Qt Creator 源码分析-0-序</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-05T07:51:47.000Z" title="发表于 2022-04-05 15:51:47">2022-04-05</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-28T23:53:06.428Z" title="更新于 2022-08-29 07:53:06">2022-08-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Qt-Creator-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">Qt Creator 源码分析</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Qt/">Qt</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">源码分析</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/QtCreator/">QtCreator</a></span></div><div class="content">前言
有打算分析 Qt Creator 源码的想法已经很久了，偶尔也会写一点，但是断断续续……
在做项目期间也有使用 Qt Creator 源码里的插件系统。
本着学习和提升的目的，开始写 Qt Creator 源码分析文章。
目录




‘Qt Creator 源码分析-0-序‘


Qt Creator 源码分析-1-环境配置


Qt Creator 源码分析-2-目录分析


Qt Creator 源码分析-3-程序入口


Qt Creator 源码分析-4-main() 函数分析


</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/03/24/Qt/Qt%E5%B5%8C%E5%85%A5Word/" title="Qt 调用 QAxWidget(dsoframer.ocx) 嵌入 office">Qt 调用 QAxWidget(dsoframer.ocx) 嵌入 office</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-03-24T12:09:36.000Z" title="发表于 2022-03-24 20:09:36">2022-03-24</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-28T15:00:02.374Z" title="更新于 2022-08-28 23:00:02">2022-08-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Qt/">Qt</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Qt/">Qt</a></span></div><div class="content">效果

注册 dsoframer.ocx
前提：需要安装有 Microsoft Word 或者 WPS
把 dsoframer.ocx 拷贝到系统目录下，并以管理员身份注册：
32位：

copy dsoframer.ocx c:\windows\system32\dsoframer.ocx
regsvr32.exe c:\windows\system32\dsoframer.ocx

64位：

copy dsoframer.ocx c:\windows\SysWOW64\dsoframer.ocx
regsvr32.exe c:\windows\SysWOW64\dsoframer.ocx



在 QtCreator 中编写测试用例

主要代码：
12345678910111213if (ui-&gt;axWidget-&gt;isNull())    ui-&gt;axWidget-&gt;setControl(&quot;&#123;FBCCBFE5-66FA-4ee3-9AF1-E02A59549AB9&#125;&quot;);ui-&gt;axWidget-&gt;se ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/03/22/Qt/QDataStream/" title="QDataStream">QDataStream</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-03-22T02:43:45.000Z" title="发表于 2022-03-22 10:43:45">2022-03-22</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-28T15:00:02.374Z" title="更新于 2022-08-28 23:00:02">2022-08-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Qt/">Qt</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Qt/">Qt</a></span></div><div class="content">QDataStream::writeBytes

QDataStream &amp;QDataStream::writeBytes(const char *s, uint len)
Writes the length specifier len and the buffer s to the stream and returns a reference to the stream.
The len is serialized as a quint32, followed by len bytes from s. Note that the data is not encoded.

注意，使用writeBytes函数写的文件，必须用readBytes函数读取，readBytes函数是个工厂函数，会调用new[]分配内存，因此需要调用delete[]进行删除内存，否则会泄露。
有特殊字符，比如∅ ㎡ 㘵，写入后再次读取，结果乱码。
QDataStream::writeRawData

int QDataStream::writeRawData(const char *s, int len ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/03/18/CICD/3.GitLab%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="GitLab 使用教程">GitLab 使用教程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-03-18T08:03:41.000Z" title="发表于 2022-03-18 16:03:41">2022-03-18</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-28T15:03:42.591Z" title="更新于 2022-08-28 23:03:42">2022-08-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/CI-CD/">CI/CD</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/CI-CD/">CI/CD</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/GitLab/">GitLab</a></span></div><div class="content">1.创建用户
注册用户并添加到组里
注册新用户后，登录’root’用户，通过 “管理中心” -&gt; “用户” -&gt; “等待批准” 把新用户添加到组里
新用户添加 SSH 密钥
登录新用户，把本机的ssh密钥&quot;.ssh/id_rsa.pub&quot;中的内容添加到 “用户设置” -&gt; “SSH密钥”
然后就可以拉取上传代码了
12345# 生成密钥ssh-keygen -t rsa# 查看公钥cat /home/vinda/.ssh/id_rsa.pub

创建访问令牌

2.创建项目
3.修改 GitLab 默认存储位置
GitLab 默认安装时，其默认的仓库存储位置是 /var/opt/gitlab/git-data，用户新建的仓库存储在 repositories 目录下。
1234567891011121314151617181920212223242526272829303132333435363738394041424344repositories 目录结构树：repositories/├── +gitaly│   └── tmp└── @hashe ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/03/18/CICD/5.GitLab+Jenkins%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/" title="GitLab + Jenkins 持续集成">GitLab + Jenkins 持续集成</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-03-18T07:46:14.000Z" title="发表于 2022-03-18 15:46:14">2022-03-18</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-28T15:03:42.591Z" title="更新于 2022-08-28 23:03:42">2022-08-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/CI-CD/">CI/CD</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/CI-CD/">CI/CD</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/GitLab/">GitLab</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Jenkins/">Jenkins</a></span></div><div class="content">概述
Gitlab是一个用于仓库管理系统的开源项目，使用Git作为代码管理工具，并在此基础上搭建起来的Web服务。
2022年2月消息，极狐（GitLab）正式宣布推出极狐GitLab SaaS （JihuLab.com），为中国用户提供从源代码托管到开发运维的全栈式一体化DevOps SaaS平台与企业级专家咨询服务。
Jenkins是一个开源软件项目，是基于Java开发的一种持续集成工具，用于监控持续重复的工作，旨在提供一个开放易用的软件平台，使软件项目可以进行持续集成。
配置 GitLab

API token获取：GitLab用户创建访问令牌


配置 Git
Git的路径可以通过which git获取

新建任务



构建任务



</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/03/17/CICD/4.Jenkins%E6%90%AD%E5%BB%BA/" title="Jenkins 搭建">Jenkins 搭建</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-03-17T01:51:27.000Z" title="发表于 2022-03-17 09:51:27">2022-03-17</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-28T15:03:42.590Z" title="更新于 2022-08-28 23:03:42">2022-08-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/CI-CD/">CI/CD</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/CI-CD/">CI/CD</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Jenkins/">Jenkins</a></span></div><div class="content">Jenkins 搭建（Ubuntu 篇）
环境：Ubuntu 20.04 LTS
安装 Jenkins
Debian Jenkins Packages
This is the Debian package repository of Jenkins to automate installation and upgrade. To use this repository, first add the key to your system:
1curl -fsSL https://pkg.jenkins.io/debian-stable/jenkins.io.key | sudo tee /usr/share/keyrings/jenkins-keyring.asc &gt; /dev/null
Then add a Jenkins apt repository entry:
1echo deb [signed-by=/usr/share/keyrings/jenkins-keyring.asc] https://pkg.jenkins.io/debian-stable binary/ | ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/3/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/#content-inner">5</a><a class="page-number" href="/page/6/#content-inner">6</a><a class="extend next" rel="next" href="/page/5/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Vinda</div><div class="author-info__description">开到荼蘼</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">54</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">23</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/svinda"><i class="fab fa-github"></i><span>My GitHub</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎大家收藏我的博客！</div></div><div class="card-widget connection" id="connection"><div class="item-headline"><i class="fa fa-address-card"></i><span>联系方式</span></div><div class="item-content"><html><body>QQ&#58; 210968619<br/>Email&#58; hwnd1024@163.com</body></html></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/08/29/C++/1.5.C++11-rvalue_references/" title="C++ 11：右值引用（rvalue references）">C++ 11：右值引用（rvalue references）</a><time datetime="2022-08-29T09:35:16.000Z" title="发表于 2022-08-29 17:35:16">2022-08-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/08/29/C++/1.4.C++11-trailing_return_type/" title="C++ 11：返回类型后置（trailing return type）">C++ 11：返回类型后置（trailing return type）</a><time datetime="2022-08-29T09:28:16.000Z" title="发表于 2022-08-29 17:28:16">2022-08-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/08/29/C++/1.3.C++11-final_override/" title="C++ 11：final 和 override">C++ 11：final 和 override</a><time datetime="2022-08-29T09:15:16.000Z" title="发表于 2022-08-29 17:15:16">2022-08-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/08/29/C++/1.1.C++11-auto_decltype/" title="C++ 11：auto 和 decltype">C++ 11：auto 和 decltype</a><time datetime="2022-08-28T22:15:16.000Z" title="发表于 2022-08-29 06:15:16">2022-08-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/08/29/C++/1.2.C++11-default_delete/" title="C++ 11：default 和 delete">C++ 11：default 和 delete</a><time datetime="2022-08-28T22:15:16.000Z" title="发表于 2022-08-29 06:15:16">2022-08-29</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C/"><span class="card-category-list-name">C++</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/CI-CD/"><span class="card-category-list-name">CI/CD</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Firefox/"><span class="card-category-list-name">Firefox</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/GitHub/"><span class="card-category-list-name">GitHub</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Python/"><span class="card-category-list-name">Python</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Qt/"><span class="card-category-list-name">Qt</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Qt-Creator-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"><span class="card-category-list-name">Qt Creator 源码分析</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/QtExamples/"><span class="card-category-list-name">QtExamples</span><span class="card-category-list-count">4</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Blog/" style="font-size: 1.1em; color: #999">Blog</a> <a href="/tags/C/" style="font-size: 1.1em; color: #999">C++</a> <a href="/tags/C-11/" style="font-size: 1.35em; color: #99a3b1">C++ 11</a> <a href="/tags/C-14/" style="font-size: 1.1em; color: #999">C++ 14</a> <a href="/tags/C-17/" style="font-size: 1.1em; color: #999">C++ 17</a> <a href="/tags/C-20/" style="font-size: 1.1em; color: #999">C++ 20</a> <a href="/tags/C-Feature/" style="font-size: 1.4em; color: #99a5b6">C++ Feature</a> <a href="/tags/CI-CD/" style="font-size: 1.3em; color: #99a1ac">CI/CD</a> <a href="/tags/Firefox/" style="font-size: 1.1em; color: #999">Firefox</a> <a href="/tags/GitHub/" style="font-size: 1.1em; color: #999">GitHub</a> <a href="/tags/GitLab/" style="font-size: 1.2em; color: #999da3">GitLab</a> <a href="/tags/Jenkins/" style="font-size: 1.15em; color: #999b9e">Jenkins</a> <a href="/tags/Python/" style="font-size: 1.1em; color: #999">Python</a> <a href="/tags/Qt/" style="font-size: 1.5em; color: #99a9bf">Qt</a> <a href="/tags/QtCreator/" style="font-size: 1.3em; color: #99a1ac">QtCreator</a> <a href="/tags/QtExamples/" style="font-size: 1.25em; color: #999fa7">QtExamples</a> <a href="/tags/QtProblems/" style="font-size: 1.3em; color: #99a1ac">QtProblems</a> <a href="/tags/Tiled/" style="font-size: 1.1em; color: #999">Tiled</a> <a href="/tags/blog-env/" style="font-size: 1.15em; color: #999b9e">blog-env</a> <a href="/tags/tdesktop/" style="font-size: 1.2em; color: #999da3">tdesktop</a> <a href="/tags/test/" style="font-size: 1.3em; color: #99a1ac">test</a> <a href="/tags/vlc/" style="font-size: 1.2em; color: #999da3">vlc</a> <a href="/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" style="font-size: 1.45em; color: #99a7ba">源码分析</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/08/"><span class="card-archive-list-date">八月 2022</span><span class="card-archive-list-count">12</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">七月 2022</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/06/"><span class="card-archive-list-date">六月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">16</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">54</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2018-06-06T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-08-29T14:38:17.545Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By Vinda</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a href="httpshttps://github.com/svinda/">GitHub</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>